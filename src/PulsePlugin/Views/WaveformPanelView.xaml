<UserControl x:Class="PulsePlugin.Views.WaveformPanelView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:PulsePlugin.ViewModels"
             mc:Ignorable="d"
             d:DesignHeight="180" d:DesignWidth="900"
             Background="Transparent">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Resources/Styles.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- ── Toolbar ──────────────────────────────── -->
        <DockPanel Grid.Row="0" Margin="8,4,8,2">
            <!-- BPM readout on the right -->
            <TextBlock DockPanel.Dock="Right"
                       x:Name="BpmReadout"
                       Foreground="#DCDCAA"
                       FontSize="12" FontFamily="Segoe UI Semibold"
                       VerticalAlignment="Center"
                       Margin="8,0,0,0" />

            <!-- Window duration selector on the left -->
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="Window"
                           Foreground="#808080"
                           FontSize="11" FontFamily="Segoe UI"
                           VerticalAlignment="Center"
                           Margin="0,0,6,0" />
                <ComboBox x:Name="WindowDurationCombo"
                          Style="{StaticResource PulseComboBoxStyle}"
                          ItemContainerStyle="{StaticResource PulseComboBoxItemStyle}"
                          ItemsSource="{x:Static vm:WaveformViewModel.WindowDurationLabels}"
                          SelectedIndex="{Binding WindowDurationIndex}"
                          Width="70" />
            </StackPanel>
        </DockPanel>

        <!-- ── Canvas + Empty State ───────────────── -->
        <Grid Grid.Row="1">
            <ContentControl x:Name="CanvasHost" />

            <TextBlock x:Name="EmptyStateText"
                       Text="Enable Pulse to see the waveform"
                       Foreground="#CCCCCC"
                       Opacity="0.4"
                       FontSize="14"
                       FontFamily="Segoe UI"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       IsHitTestVisible="False" />
        </Grid>
    </Grid>
</UserControl>
